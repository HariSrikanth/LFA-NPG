import matplotlib
import matplotlib.pyplot as plt
matplotlib.rcParams['mathtext.fontset'] = 'stix'
matplotlib.rcParams['font.family'] = 'STIXGeneral'
matplotlib.pyplot.title(r'ABC123 vs $\mathrm{ABC123}^{123}$')

import numpy as np


'''
Graphing iterations vs Reward for PPO, Noise at 0, 10, 15, and 20%; Cartpole simulation
'''

a = np.array([0., 20.37435501, 26.14182331, 40.74484127,
                            68.11025641, 108.95, 138.68, 143.15,
                            157.6, 151.16666667, 159.9, 162.86666667,
                            166.4, 190.4, 158.33333333, 164.23333333,
                            186.2, 194.6, 197., 189.5,
                            176.23333333, 189.23333333, 169.26666667, 189.1,
                            176.16666667, 172.4])
adev = np.array([0., 4.28510804, 5.36800313, 9.53769239, 20.82265825,
                       30.29211944, 34.94099884, 33.36631701, 33.28190199, 33.16112181,
                       34.20386593, 36.95552883, 37.15521498, 38.731899, 36.59423148,
                       36.61972753, 38.91580656, 39.78454474, 39.6092161, 38.97896869,
                       35.7151384, 38.63596482, 36.85925182, 38.74028911, 37.11829438,
                       38.4091135]) / 2

b = np.array([  0.        ,  22.28346172,  30.87669553,  34.77331002,
        60.94206349, 106.02      , 133.98666667, 128.53666667,
       140.68333333, 161.66666667, 148.6       , 167.33333333,
       171.83333333, 174.06666667, 192.1       , 179.3       ,
       164.        , 172.4       , 190.8       , 184.66666667,
       188.3       , 175.3       , 186.2       , 177.66666667,
       185.        , 167.7       ])
bdev = np.array([ 0.        ,  4.2670515 ,  6.13219055,  7.28055634, 14.22918221,
       28.02124908, 31.54074895, 28.93887351, 31.24377716, 34.34617883,
       34.62077892, 36.8179455 , 37.9785612 , 36.89558841, 38.54490887,
       39.10447545, 37.5145009 , 39.10447545, 38.73809495, 37.8335536 ,
       39.23888378, 36.53546223, 38.28367798, 36.37949667, 37.40020053,
       36.93155832]) / 2

c = np.array([  0.        ,  21.44831933,  28.73622978,  36.20013986,
        70.89166667,  82.18666667,  80.56      ,  94.72      ,
       139.8       , 149.76      , 164.63333333, 182.2       ,
       166.8       , 159.86666667, 150.4       , 166.2       ,
       144.16666667, 157.9       , 177.9       , 180.6       ,
       171.        , 160.95      , 159.86666667, 191.93333333,
       164.76666667, 170.73333333])
cdev = np.array([ 0.        ,  4.91841961,  5.74249352,  8.31497772, 18.43667842,
       22.73067326, 21.39948078, 21.01209599, 30.80207424, 29.52088413,
       34.0927819 , 39.21492063, 33.41646301, 33.21422052, 34.04497026,
       34.02995413, 28.64700876, 33.78660155, 35.68038677, 36.8651597 ,
       36.10647834, 35.49422488, 35.5797383 , 38.77805794, 36.16675883,
       37.05227538]) / 2

d = np.array([  0.        ,  22.52625731,  23.28460784,  33.62025641,
        41.46714286,  67.53904762, 102.7       , 125.71333333,
        94.22      , 116.23333333, 145.43333333, 156.        ,
       147.73333333, 173.7       , 150.7       , 154.9       ,
       157.76666667, 168.        , 175.86666667, 154.5       ,
       153.43333333, 187.93333333, 173.3       , 168.56666667,
       156.73333333, 176.53333333])
ddev = np.array([ 0.        ,  4.44169766,  5.06944607,  6.37657975,  8.93489673,
       14.9035918 , 23.4416723 , 25.20936687, 19.41896624, 23.35596521,
       27.94336534, 32.80233732, 32.36486435, 39.43044509, 31.85864613,
       30.62490816, 33.47413595, 37.10714217, 35.78804891, 34.04467653,
       31.29360957, 38.12131949, 37.74035565, 35.76643367, 34.24217672,
       38.67907847]) / 2

iter = np.arange(26)

plt.plot(iter, a, '-', c='blue', label='Noise=0')
plt.plot(iter, b, '--', c='green', label='Noise=10')
plt.plot(iter, c, '-.', c='orange', label='Noise=15')
plt.plot(iter, d, ':', c='red', label='Noise=20')
plt.fill_between(iter, a - adev, a + adev, alpha=0.2, color='blue')
plt.fill_between(iter, b - bdev, b + bdev, alpha=0.2, color='orange')
plt.fill_between(iter, c - cdev, c + cdev, alpha=0.2, color='orange')
plt.fill_between(iter, d - ddev, d + ddev, alpha=0.2, color='red')
plt.legend(loc='lower right')
plt.rcParams["font.family"] = "serif"
plt.grid()
plt.title('Average Reward of PPO Over Policy iterations', fontsize=23)
plt.xlabel('Number of Policy Iterations', fontsize=20)
plt.ylabel('Average Reward', fontsize=20)

plt.ylim(0, 200)

plt.show()
